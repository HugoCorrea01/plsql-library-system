CREATE TABLE AUTORES (
    ID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    NOME VARCHAR2(100) NOT NULL
);

CREATE TABLE LIVROS (
    ID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    TITULO VARCHAR2(200) NOT NULL,
    AUTOR_ID NUMBER REFERENCES AUTORES(ID),
    DISPONIVEL CHAR(1) DEFAULT 'S' CHECK (DISPONIVEL IN ('S', 'N'))
);

CREATE TABLE USUARIOS (
    ID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    NOME VARCHAR2(100) NOT NULL,
    DATA_CADASTRO DATE DEFAULT SYSDATE
);

CREATE TABLE EMPRESTIMOS (
    ID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    LIVRO_ID NUMBER REFERENCES LIVROS(ID),
    USUARIO_ID NUMBER REFERENCES USUARIOS(ID),
    DATA_EMPRESTIMO DATE DEFAULT SYSDATE,
    DATA_DEVOLUCAO DATE,
    STATUS VARCHAR2(20) DEFAULT 'EM_ABERTO',
    MULTA NUMBER(6,2)
);